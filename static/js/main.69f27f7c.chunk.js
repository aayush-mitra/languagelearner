(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{21:function(e,t,n){},30:function(e,t,n){},36:function(e,t,n){"use strict";n.r(t);var s=n(0),a=n(1),i=n.n(a),c=n(22),r=n.n(c),l=(n(30),n(23)),o=n(5),h=n(6),d=n(2),u=n(8),j=n(7),b=n(13),x=n(3),O=n(12),v=function(e){Object(u.a)(n,e);var t=Object(j.a)(n);function n(e){var s;return Object(o.a)(this,n),(s=t.call(this,e)).state={token:"",userData:{},proxy:"https://language-learner-am.herokuapp.com/api/",proxy2:"https://language-learner-am.herokuapp.com/api/"},s}return Object(h.a)(n,[{key:"render",value:function(){var e=this;return Object(s.jsx)(g.Provider,{value:{state:this.state,changeToken:function(t){return e.setState({token:t})},setUserData:function(t){return e.setState({userData:t})}},children:this.props.children})}}]),n}(a.Component),g=i.a.createContext();function m(e){if(!e)return null;try{var t=localStorage.getItem(e);return t?JSON.parse(t):null}catch(n){return null}}function p(e,t){e||console.log("Error: Key is missing");try{localStorage.setItem(e,JSON.stringify(t))}catch(n){console.log(n)}}var f=function(e){Object(u.a)(n,e);var t=Object(j.a)(n);function n(e){var s;return Object(o.a)(this,n),(s=t.call(this,e)).state={list:"",new:!1},s.onChange=s.onChange.bind(Object(d.a)(s)),s.onNew=s.onNew.bind(Object(d.a)(s)),s.create=s.create.bind(Object(d.a)(s)),s.logout=s.logout.bind(Object(d.a)(s)),s}return Object(h.a)(n,[{key:"logout",value:function(e){var t=this;e.preventDefault();var n=m("LanguageLearner");n&&n.token&&fetch(this.context.state.proxy+"users/logout").then((function(e){return e.json()})).then((function(e){e.success&&(t.props.setParentToken(""),t.context.changeToken(""),t.context.setUserData({}))}))}},{key:"onChange",value:function(e){this.setState(Object(O.a)({},e.target.name,e.target.value))}},{key:"onNew",value:function(e){e.preventDefault(),this.setState({new:!0})}},{key:"create",value:function(e){var t=this;e.preventDefault();var n={name:this.state.list,userid:this.context.state.userData._id};fetch(this.context.state.proxy+"lists/create",{method:"POST",headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*"},body:JSON.stringify(n)}).then((function(e){return e.json()})).then((function(e){var n=e.user,s=n.email,a=n.name,i=n.lists,c=n._id;t.context.setUserData({email:s,name:a,lists:i,_id:c}),t.setState({list:"",new:!1})}))}},{key:"render",value:function(){var e=this.context.state.userData.lists.map((function(e,t){return Object(s.jsx)(b.b,{className:"link",to:"/list/"+e._id,children:Object(s.jsx)("li",{children:e.name})},t)}));return Object(s.jsxs)("div",{className:"body",children:[Object(s.jsx)("div",{className:"navbar",children:Object(s.jsxs)("div",{className:"container flex",children:[Object(s.jsx)("h1",{className:"logo",children:"Language Learner"}),Object(s.jsx)("nav",{children:Object(s.jsxs)("ul",{children:[Object(s.jsx)("li",{children:Object(s.jsx)(b.b,{className:"link",to:"/",children:"Home"})}),Object(s.jsx)("li",{children:Object(s.jsx)("a",{href:"#",className:"link",onClick:this.logout,children:"Logout"})})]})})]})}),Object(s.jsx)("div",{className:"main",children:Object(s.jsxs)("div",{className:"flex stuff",children:[Object(s.jsxs)("div",{className:"listnav",children:[Object(s.jsx)("h2",{children:"My Lists"}),Object(s.jsx)("nav",{children:Object(s.jsxs)("ul",{children:[e,this.state.new?Object(s.jsx)("li",{children:Object(s.jsx)("input",{type:"text",onChange:this.onChange,value:this.state.list,className:"editinput",name:"list"})}):null,this.state.new?Object(s.jsx)("li",{children:Object(s.jsx)("button",{onClick:this.create,className:"new",children:"Create"})}):Object(s.jsx)("li",{children:Object(s.jsx)("button",{onClick:this.onNew,className:"new",children:"New +"})})]})})]}),Object(s.jsx)("div",{className:"showcase",children:Object(s.jsx)("div",{className:"display",children:Object(s.jsx)("p",{children:"Select the list that you would like to view."})})}),Object(s.jsxs)("div",{className:"actionnav",children:[Object(s.jsx)("h2",{children:"View"}),Object(s.jsx)("nav",{children:Object(s.jsx)("ul",{children:Object(s.jsxs)("li",{children:["Select a list",Object(s.jsx)("br",{}),"to select a view."]})})})]})]})})]})}}]),n}(a.Component),k=f;function y(e,t,n){fetch("".concat(e,"users/login"),{method:"POST",headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*"},body:JSON.stringify(t)}).then((function(e){return e.json()})).then((function(e){e.success&&n(e)}))}f.contextType=g;var C=function(e){Object(u.a)(n,e);var t=Object(j.a)(n);function n(e){var s;return Object(o.a)(this,n),(s=t.call(this,e)).state={register:s.props.register,name:"",email:"",password:"",redirect:!1},s.onChange=s.onChange.bind(Object(d.a)(s)),s.onSubmit=s.onSubmit.bind(Object(d.a)(s)),s}return Object(h.a)(n,[{key:"onChange",value:function(e){this.setState(Object(O.a)({},e.target.name,e.target.value))}},{key:"onSubmit",value:function(e){var t,n,s,a=this,i=this.state,c=i.name,r=i.email,l=i.password;if(e.preventDefault(),this.state.register){var o={name:c,email:r,password:l};t=this.context.state.proxy,n=o,s=function(e){y(a.context.state.proxy,o,(function(t){var n=e.user,s=n.email,i=n.name,c=n.lists,r=n._id;a.context.setUserData({email:s,name:i,lists:c,_id:r}),p("LanguageLearner",{token:t.token}),a.setState({name:"",email:"",password:"",redirect:!0}),a.context.changeToken(t.token),a.props.changeToken(t.token)}))},fetch("".concat(t,"users/register"),{method:"POST",headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*"},body:JSON.stringify(n)}).then((function(e){return e.json()})).then((function(e){e.success&&s(e)}))}else{var h={email:r,password:l};y(this.context.state.proxy,h,(function(e){var t=e.user,n=t.email,s=t.name,i=t.lists,c=t._id;a.context.setUserData({email:n,name:s,lists:i,_id:c}),p("LanguageLearner",{token:e.token}),a.setState({name:"",email:"",password:"",redirect:!0}),a.context.changeToken(e.token),a.props.changeToken(e.token)}))}}},{key:"render",value:function(){var e=this,t={label1:this.state.register?"label1":"label1 auth-selected",label2:this.state.register?"label2 auth-selected":"label2",buttontxt:this.state.register?"Register":"Login"};return this.state.redirect?Object(s.jsx)(x.a,{to:"/"}):Object(s.jsxs)("div",{className:"body",children:[Object(s.jsx)("div",{className:"navbar",children:Object(s.jsxs)("div",{className:"container flex",children:[Object(s.jsx)("h1",{className:"logo",children:"Language Learner"}),Object(s.jsx)("nav",{children:Object(s.jsx)("ul",{children:Object(s.jsx)("li",{children:Object(s.jsx)(b.b,{className:"link",to:"/",children:"Home"})})})})]})}),Object(s.jsx)("div",{className:"main",children:Object(s.jsx)("div",{className:"auth-wrapper stuff",children:Object(s.jsxs)("div",{className:"auth",children:[Object(s.jsx)("div",{className:t.label1,onClick:function(){return e.setState({register:!1})},children:"Login"}),Object(s.jsx)("div",{className:t.label2,onClick:function(){return e.setState({register:!0})},children:"Register"}),Object(s.jsxs)("div",{className:"infoarea auth-selected",children:[this.state.register?Object(s.jsxs)("div",{children:[Object(s.jsx)("label",{children:"Name: "}),Object(s.jsx)("br",{}),Object(s.jsx)("input",{type:"text",onChange:this.onChange,value:this.state.name,className:"editinput",name:"name"})]}):null,Object(s.jsxs)("div",{children:[Object(s.jsx)("label",{children:"Email: "}),Object(s.jsx)("br",{}),Object(s.jsx)("input",{type:"email",onChange:this.onChange,value:this.state.email,className:"editinput",name:"email"})]}),Object(s.jsxs)("div",{children:[Object(s.jsx)("label",{children:"Password: "}),Object(s.jsx)("br",{}),Object(s.jsx)("input",{type:"password",onChange:this.onChange,value:this.state.password,className:"editinput",name:"password"})]}),Object(s.jsx)("div",{children:Object(s.jsx)("button",{onClick:this.onSubmit,children:t.buttontxt})})]})]})})})]})}}]),n}(a.Component),N=C;C.contextType=g;n(21);var w=function(e){Object(u.a)(n,e);var t=Object(j.a)(n);function n(e){var s;return Object(o.a)(this,n),(s=t.call(this,e)).state={cardindex:0,cards:s.props.cards,side1:!0,change:!1},s.next=s.next.bind(Object(d.a)(s)),s.back=s.back.bind(Object(d.a)(s)),s.flip=s.flip.bind(Object(d.a)(s)),s}return Object(h.a)(n,[{key:"next",value:function(){this.state.cards.length-1!==this.state.cardindex&&this.setState((function(e){return{cardindex:e.cardindex+1,side1:!0,change:!0}}))}},{key:"back",value:function(){0!==this.state.cardindex&&this.setState((function(e){return{cardindex:e.cardindex-1,side1:!0,change:!0}}))}},{key:"flip",value:function(){this.setState({side1:!this.state.side1})}},{key:"componentDidUpdate",value:function(){var e=this;!0===this.state.change&&setTimeout((function(){e.setState({change:!1})}),250)}},{key:"render",value:function(){var e=this.state,t=e.cardindex,n=e.cards,a=this.state.side1?"":" is-flipped",i=this.state.change?{animation:"myanimation 0.25s linear"}:{};return Object(s.jsxs)("div",{style:"flashcards"===this.props.view?{display:"flex"}:{},className:"flashcards",children:[Object(s.jsxs)("div",{style:i,onClick:this.flip,className:"card"+a,children:[Object(s.jsx)("div",{className:"front",children:Object(s.jsx)("h1",{children:n[t].side1})}),Object(s.jsx)("div",{className:"back",children:Object(s.jsx)("h1",{children:n[t].side2})})]}),Object(s.jsx)("nav",{children:Object(s.jsxs)("ul",{children:[Object(s.jsx)("li",{onClick:this.back,children:"\u2190 Back"}),Object(s.jsxs)("li",{children:["Card ",t+1]}),Object(s.jsx)("li",{onClick:this.next,children:"Next \u2192"})]})})]})}}]),n}(a.Component);w.contextType=g;var S=function(e){Object(u.a)(n,e);var t=Object(j.a)(n);function n(e){var s;return Object(o.a)(this,n),(s=t.call(this,e)).state={type:"choice",ask:"side2",cards:s.props.cards,questions:[],questionIndex:0,isLoading:!0,answer:""},s.onTypeChange=s.onTypeChange.bind(Object(d.a)(s)),s.onAskChange=s.onAskChange.bind(Object(d.a)(s)),s.getRandomInt=s.getRandomInt.bind(Object(d.a)(s)),s.answer=s.answer.bind(Object(d.a)(s)),s}return Object(h.a)(n,[{key:"componentDidMount",value:function(){var e=this;fetch("".concat(this.context.state.proxy2,"users/test/"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({cards:this.state.cards})}).then((function(e){return e.json()})).then((function(t){e.setState({questions:t.questions,isLoading:!1,questionIndex:e.getRandomInt(0,t.questions.choice.length)})}))}},{key:"answer",value:function(e){var t=this,n=this.state,s=n.type,a=n.ask,i=n.questionIndex,c=n.answer,r=n.questions;if(e.preventDefault(),"choice"===s)r.choice[i][a].correct===e.target.innerHTML?(e.target.className+=" correct",setTimeout((function(){e.target.className="choice",t.setState({questionIndex:t.getRandomInt(0,r.choice.length),answer:""})}),1e3)):(e.target.className+=" incorrect",setTimeout((function(){e.target.className="choice",t.setState({questionIndex:t.getRandomInt(0,r.choice.length),answer:""})}),1e3));else if(r.choice[i][a].correct===c){var l=e.target.parentElement.previousElementSibling.firstElementChild;l.className+=" correct",l.innerHTML="Correct! "+l.innerHTML,setTimeout((function(){l.className="quiz",l.innerHTML=l.innerHTML.substring(9),t.setState({questionIndex:t.getRandomInt(0,r.choice.length),answer:""})}),2e3)}else{var o=e.target.parentElement.previousElementSibling.firstElementChild;o.className+=" incorrect",o.innerHTML="Incorrect! "+o.innerHTML,setTimeout((function(){o.className="quiz",o.innerHTML=o.innerHTML.substring(11),t.setState({questionIndex:t.getRandomInt(0,r.choice.length),answer:""})}),2e3)}}},{key:"getRandomInt",value:function(e,t){return e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e)+e)}},{key:"onAskChange",value:function(e){this.setState(Object(O.a)({},e.target.name,e.target.value))}},{key:"onTypeChange",value:function(e){this.setState(Object(O.a)({},e.target.name,e.target.value))}},{key:"render",value:function(){var e=this;if(this.state.isLoading)return Object(s.jsx)("p",{children:"Loading..."});var t=this.state.questions,n=t.choice,a=t.typed;return Object(s.jsxs)("div",{style:"quiz"===this.props.view?{display:"block"}:{},className:"quiz",children:[Object(s.jsxs)("center",{children:[Object(s.jsx)("label",{children:"Ask for:"}),Object(s.jsxs)("select",{value:this.state.ask,onChange:this.onAskChange,name:"ask",id:"type",children:[Object(s.jsx)("option",{value:"side1",children:"Side 1"}),Object(s.jsx)("option",{value:"side2",children:"Side 2"})]}),Object(s.jsx)("br",{}),Object(s.jsx)("label",{children:"Response Type:"}),Object(s.jsxs)("select",{value:this.state.type,onChange:this.onTypeChange,name:"type",id:"type",children:[Object(s.jsx)("option",{value:"choice",children:"Multiple Choice"}),Object(s.jsx)("option",{value:"typed",children:"Typed"})]})]}),"choice"===this.state.type?Object(s.jsxs)("div",{className:"question",id:"multiple-choice",children:[Object(s.jsx)("h2",{id:"question-title",children:"side1"===this.state.ask?n[this.state.questionIndex].side1.question:n[this.state.questionIndex].side2.question}),Object(s.jsx)("div",{className:"choices",children:n[this.state.questionIndex][this.state.ask].answers.map((function(t,n){return Object(s.jsx)("div",{onClick:e.answer,className:"choice",children:t},n)}))})]}):Object(s.jsxs)("div",{className:"question",id:"typed",children:[Object(s.jsx)("h2",{id:"question-title",children:"side1"===this.state.ask?a[this.state.questionIndex].side1.question:a[this.state.questionIndex].side2.question}),Object(s.jsx)("div",{className:"reveal",children:Object(s.jsx)("h2",{className:"quiz",id:"reveal-text"})}),Object(s.jsxs)("form",{className:"response",children:[Object(s.jsx)("input",{value:this.state.answer,onChange:function(t){return e.setState({answer:t.target.value})},type:"text",id:"answer",name:"answer"}),Object(s.jsx)("button",{onClick:this.answer,children:"Submit"})]})]})]})}}]),n}(a.Component);S.contextType=g;var T=function(e){Object(u.a)(n,e);var t=Object(j.a)(n);function n(e){var s;return Object(o.a)(this,n),(s=t.call(this,e)).state={isLoading:!0,view:"edit",listid:s.props.match.params.id,user:s.props.userData,list:{},new:!1,create1:"",create2:"",redirect:!1,save:!1},s.logout=s.logout.bind(Object(d.a)(s)),s.changeView=s.changeView.bind(Object(d.a)(s)),s.editOnChange=s.editOnChange.bind(Object(d.a)(s)),s.onSave=s.onSave.bind(Object(d.a)(s)),s.toggleCreate=s.toggleCreate.bind(Object(d.a)(s)),s.onCreate=s.onCreate.bind(Object(d.a)(s)),s.createOnChange=s.createOnChange.bind(Object(d.a)(s)),s.onDelete=s.onDelete.bind(Object(d.a)(s)),s.deleteList=s.deleteList.bind(Object(d.a)(s)),s}return Object(h.a)(n,[{key:"deleteList",value:function(e){var t=this;e.preventDefault();var n={userid:this.state.user._id,listid:this.state.listid};e.target.innerHTML="Deleting...",fetch("".concat(this.context.state.proxy,"lists/delete"),{method:"POST",headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*"},body:JSON.stringify(n)}).then((function(e){return e.json()})).then((function(e){e.success&&t.context.setUserData(e.user)}))}},{key:"onDelete",value:function(e){var t=this;e.preventDefault();var n={cardid:this.state.list.cards[parseInt(e.target.name)]._id,listid:this.state.listid};e.target.innerHTML="Deleting...",fetch("".concat(this.context.state.proxy,"lists/delete-card"),{method:"POST",headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*"},body:JSON.stringify(n)}).then((function(e){return e.json()})).then((function(e){if(e.success){var n=t.context.state.userData;n.lists=e.lists,t.context.setUserData(n)}}))}},{key:"createOnChange",value:function(e){e.preventDefault(),this.setState(Object(O.a)({},e.target.name,e.target.value))}},{key:"onCreate",value:function(e){var t=this;e.preventDefault();var n={side1:this.state.create1,side2:this.state.create2,userid:this.state.user._id,listid:this.state.listid};e.target.innerHTML="Creating...",fetch("".concat(this.context.state.proxy,"lists/create-card"),{method:"POST",headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*"},body:JSON.stringify(n)}).then((function(e){return e.json()})).then((function(e){if(e.success){var n=t.context.state.userData;n.lists=e.lists,t.context.setUserData(n)}}))}},{key:"toggleCreate",value:function(e){e.preventDefault(),this.setState({new:!0})}},{key:"changeView",value:function(e){this.setState({view:e.target.innerHTML.toLowerCase()})}},{key:"editOnChange",value:function(e){var t=this.state.list;t.cards[parseInt(e.target.name.split(",")[1])][e.target.name.split(",")[0]]=e.target.value,this.setState({list:t,save:!0})}},{key:"onSave",value:function(e){var t=this;e.preventDefault();var n={the_list:this.state.list,listid:this.state.listid};e.target.innerHTML="Saving...",fetch("".concat(this.context.state.proxy,"lists/edit"),{method:"POST",headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*"},body:JSON.stringify(n)}).then((function(e){return e.json()})).then((function(e){if(e.success){var n=t.context.state.userData;n.lists=e.lists,t.context.setUserData(n)}}))}},{key:"logout",value:function(e){var t=this;e.preventDefault();var n=m("LanguageLearner");n&&n.token&&fetch(this.context.state.proxy+"users/logout").then((function(e){return e.json()})).then((function(e){e.success&&(t.props.setParentToken(""),t.context.changeToken(""),t.context.setUserData({}))}))}},{key:"componentDidMount",value:function(){var e,t=this;e=this.state.user.lists,this.state.user.lists.map((function(e){return e._id})).includes(this.state.listid)?e.forEach((function(e){e._id===t.state.listid&&t.setState({list:e,isLoading:!1})})):this.setState({redirect:!0,isLoading:!1})}},{key:"render",value:function(){var e=this;if(this.state.isLoading)return Object(s.jsx)("p",{children:"Loading..."});if(!0===this.state.redirect)return Object(s.jsx)(x.a,{to:"/"});var t=Object(s.jsxs)("div",{style:{border:"1px solid var(--primary-color)"},className:"cardedit",children:[Object(s.jsx)("p",{children:"New"}),Object(s.jsx)("hr",{}),Object(s.jsx)("label",{htmlFor:"side1",children:"Side 1: "}),Object(s.jsx)("input",{type:"text",onChange:this.createOnChange,value:this.state.create1,className:"editinput",name:"create1"}),Object(s.jsx)("label",{htmlFor:"side2",children:"Side 2: "}),Object(s.jsx)("input",{type:"text",onChange:this.createOnChange,value:this.state.create2,className:"editinput",name:"create2"}),Object(s.jsx)("button",{onClick:this.onCreate,children:"Create"})]}),n=this.state.list.cards.map((function(t,n){return Object(s.jsxs)("div",{className:"cardedit",children:[Object(s.jsx)("label",{htmlFor:"side1",children:"Side 1: "}),Object(s.jsx)("input",{type:"text",onChange:e.editOnChange,value:e.state.list.cards[n].side1,className:"editinput",name:["side1",n]}),Object(s.jsx)("label",{htmlFor:"side2",children:"Side 2: "}),Object(s.jsx)("input",{type:"text",onChange:e.editOnChange,value:e.state.list.cards[n].side2,className:"editinput",name:["side2",n]}),Object(s.jsx)("button",{style:{backgroundColor:"rgb(199, 58, 58)"},onClick:e.onDelete,name:n,children:"Delete Card"})]},n)}));return Object(s.jsxs)("div",{className:"body",children:[Object(s.jsx)("div",{className:"navbar",children:Object(s.jsxs)("div",{className:"container flex",children:[Object(s.jsx)("h1",{className:"logo",children:"Language Learner"}),Object(s.jsx)("nav",{children:Object(s.jsxs)("ul",{children:[Object(s.jsx)("li",{children:Object(s.jsx)(b.b,{className:"link",to:"/",children:"Home"})}),Object(s.jsx)("li",{children:Object(s.jsx)("a",{href:"",className:"link",onClick:this.logout,children:"Logout"})})]})})]})}),Object(s.jsx)("div",{className:"main",children:Object(s.jsxs)("div",{className:"flex stuff",children:[Object(s.jsxs)("div",{className:"listnav",children:[Object(s.jsx)("h2",{children:"Selected List"}),Object(s.jsx)("nav",{children:Object(s.jsx)("ul",{children:Object(s.jsx)("a",{className:"link",children:Object(s.jsx)("li",{id:"selectedlist",children:this.state.list.name||"Loading..."})})})})]}),Object(s.jsxs)("div",{style:"edit"===this.state.view?{overflowY:"scroll"}:{overflowY:"hidden"},className:"showcase",children:[Object(s.jsxs)("div",{style:"edit"===this.state.view?{display:"flex"}:{},className:"edit",children:[this.state.save?Object(s.jsx)("button",{onClick:this.onSave,className:"new",children:"Save Changes"}):null,n,this.state.new?t:Object(s.jsx)("button",{onClick:this.toggleCreate,className:"new",children:"New Card"}),Object(s.jsx)("button",{onClick:this.deleteList,style:{backgroundColor:"rgb(199, 58, 58)"},className:"new",children:"Delete List"})]}),0!==this.state.list.cards.length?Object(s.jsxs)(i.a.Fragment,{children:["flashcards"===this.state.view?Object(s.jsx)(w,{view:this.state.view,cards:this.state.list.cards}):null,"quiz"===this.state.view?Object(s.jsx)(S,{view:this.state.view,cards:this.state.list.cards}):null]}):null]}),Object(s.jsxs)("div",{className:"actionnav",children:[Object(s.jsx)("h2",{children:"View"}),Object(s.jsx)("nav",{children:Object(s.jsxs)("ul",{children:[Object(s.jsx)("li",{onClick:this.changeView,className:"flashcards"===this.state.view?"active":"",children:"Flashcards"}),Object(s.jsx)("li",{onClick:this.changeView,className:"quiz"===this.state.view?"active":"",children:"Quiz"}),Object(s.jsx)("li",{onClick:this.changeView,className:"edit"===this.state.view?"active":"",children:"Edit"})]})})]})]})})]})}}],[{key:"getDerivedStateFromProps",value:function(e,t){return e.match.params.id!==t.listid?{listid:e.match.params.id}:null}}]),n}(a.Component),L=T;T.contextType=g;var D=function(e){Object(u.a)(n,e);var t=Object(j.a)(n);function n(e){var s;return Object(o.a)(this,n),(s=t.call(this,e)).state={isLoading:!0,error:"",token:s.props.token},s.setParentToken=s.setParentToken.bind(Object(d.a)(s)),s}return Object(h.a)(n,[{key:"setParentToken",value:function(e){this.setState({token:e})}},{key:"componentDidMount",value:function(){var e=this,t=m("LanguageLearner");t&&t.token?fetch("".concat(this.context.state.proxy,"users/verify?token=").concat(t.token)).then((function(e){return e.json()})).then((function(n){n.success?(e.context.changeToken(t.token),e.context.setUserData(n.user),e.setState({token:t.token,isLoading:!1})):e.setState({isLoading:!1})})):this.setState({isLoading:!1})}},{key:"render",value:function(){var e=this;return this.state.isLoading?Object(s.jsx)("div",{children:Object(s.jsx)("p",{children:"Loading..."})}):Object(s.jsx)(b.a,{basename:"/languagelearner",children:Object(s.jsxs)(x.d,{children:[Object(s.jsx)(x.b,{path:"/",exact:!0,strict:!0,render:function(){return Object(s.jsx)(i.a.Fragment,{children:""!==e.state.token?Object(s.jsx)(g.Consumer,{children:function(t){return Object(s.jsx)(k,{setParentToken:e.setParentToken,token:t.state.token})}}):Object(s.jsx)(x.a,{to:"/auth"})})}}),Object(s.jsx)(x.b,{path:"/auth",exact:!0,strict:!0,render:function(){return Object(s.jsx)(i.a.Fragment,{children:""===e.state.token?Object(s.jsx)(N,{changeToken:function(t){return e.setState({token:t})},register:!1}):Object(s.jsx)(x.a,{to:"/"})})}}),Object(s.jsx)(x.b,{path:"/list/:id",exact:!0,strict:!0,component:function(t){return""!==e.state.token?Object(s.jsx)(L,Object(l.a)({userData:e.context.state.userData,setParentToken:e.setParentToken},t)):Object(s.jsx)(x.a,{to:"/auth"})}})]})})}}]),n}(a.Component),q=D;D.contextType=g;var I=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,37)).then((function(t){var n=t.getCLS,s=t.getFID,a=t.getFCP,i=t.getLCP,c=t.getTTFB;n(e),s(e),a(e),i(e),c(e)}))},M=Object(s.jsx)(v,{children:Object(s.jsx)(g.Consumer,{children:function(e){return Object(s.jsx)(q,{token:e.state.token})}})});r.a.render(M,document.getElementById("root")),I()}},[[36,1,2]]]);
//# sourceMappingURL=main.69f27f7c.chunk.js.map